2022-09-07T14:32:09.422+00:00 WARN CBAS.cbas Updating log level to DEBUG (1)
2022-09-07T14:32:09.424+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2022-09-07T14:32:09.425+00:00 INFO CBAS.cbas uuid: 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:09.425+00:00 INFO CBAS.cbas IPv4 addresses: [127.0.0.1 172.18.0.2]
2022-09-07T14:32:09.425+00:00 INFO CBAS.cbas IPv6 addresses: []
2022-09-07T14:32:09.425+00:00 INFO CBAS.cbas setting ipv4 required, ipv6 optional
2022-09-07T14:32:09.429+00:00 INFO CBAS.cbas a single io device was provided; auto-adjusting...
2022-09-07T14:32:09.430+00:00 INFO CBAS.cbas configuring io devices based on available memory (1488): 1
2022-09-07T14:32:09.430+00:00 INFO CBAS.cbas io devices were adjusted to a total of: 1
2022-09-07T14:32:09.430+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2022-09-07T14:32:09.597+00:00 INFO CBAS.cbas initialized cluster encryption with data encryption as false
2022-09-07T14:32:09.599+00:00 INFO CBAS.cbas clusterCompatibility init'd to 458753
2022-09-07T14:32:09.601+00:00 INFO CBAS.cbas initEventLogger: Started SystemEventLogger
2022-09-07T14:32:09.603+00:00 WARN CBAS.cbas config has been refreshed by ns server. New value 7
2022-09-07T14:32:09.603+00:00 INFO CBAS.cbas Starting clusterCompatibility monitor
2022-09-07T14:32:09.603+00:00 WARN CBAS.cbas cluster encryption has been refreshed by ns server
2022-09-07T14:32:09.603+00:00 WARN CBAS.cbas tls config has been refreshed by ns server
2022-09-07T14:32:19.077+00:00 INFO CBAS.cbas Initialized starting partitionId to 0 for node 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:19.077+00:00 INFO CBAS.cbas Initialized controllerId to 0 for node 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:19.079+00:00 INFO CBAS.cbas no CC / Metadata node defined in metakv- will pick *this* node, 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:19.081+00:00 INFO CBAS.cbas our node is within topology refresh bd9f7bc826257f1781c2ba1e03188aa1/1; ensuring driver is running...
2022-09-07T14:32:21.092+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2022-09-07T14:32:21.099+00:00 INFO CBAS.cbas audit: created new audit service
2022-09-07T14:32:21.106+00:00 INFO CBAS.cbas ignoring optional family address IPv6: listen tcp6 [::1]:8095: bind: cannot assign requested address
2022-09-07T14:32:21.106+00:00 INFO CBAS.cbas ignoring optional family address IPv6: listen tcp6 [::1]:18095: bind: cannot assign requested address
2022-09-07T14:32:21.106+00:00 INFO CBAS.cbas setting max number of CPUs to: 8
2022-09-07T14:32:21.106+00:00 INFO CBAS.cbas allocating 632MiB/1265MiB for heap min/max (reserved 223MiB of 1488MiB service quota for non-heap allocations) 
2022-09-07T14:32:21.106+00:00 INFO CBAS.cbas nodeConfigMap: map[additionalCcNodes:[] address:0.0.0.0 analyticsCbHome:/opt/couchbase analyticsCcHttpPort:9111 analyticsHttpAdminListenPort:9110 analyticsHttpListenAddress:[127.0.0.1 172.18.0.2] analyticsHttpListenPort:8095 analyticsHttpsListenAddress:[127.0.0.1 172.18.0.2] analyticsHttpsListenPort:18095 analyticsNodeName:127.0.0.1:8091 analyticsSslEnabled:true cbasAddress:127.0.0.1 cbasPort:9122 ccAddress:0.0.0.0 ccAnalyticsHttpListenPort:9111 ccAnalyticsMetadataPartitionId:-1 ccClientListenPort:9113 ccClusterListenPort:9112 ccConsoleListenPort:9114 ccControllerId:0 ccHeartbeatMaxMisses:20 ccHeartbeatPeriod:30000 ccPublicAddress:127.0.0.1 clusterAddress:127.0.0.1 clusterCompatibility:458753 clusterListenPort:9115 clusterPort:9112 dataListenPort:9116 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 developerPreview:false initialRun:false iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] logDir:/opt/couchbase/var/lib/couchbase/logs messagingListenPort:9118 metadataCallbackPort:9119 metadataListenPort:9121 metadataNode:1678dfae96c38e07dff43c49b9f6967b ncservicePort:-1 nsServerAddress:127.0.0.1 nsServerPort:8091 nsServerSslPort:18091 numReplicas:0 productVersion:7.1.1-3175 publicAddress:127.0.0.1 replicationEnabled:true replicationFactor:4096 replicationListenPort:9120 replicationLogBufferPagesize:262144 replicationStrategy:all resultListenPort:9117 sslEnabled:false startingPartitionId:0 txnLogBufferPagesize:262144]
2022-09-07T14:32:21.113+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -XX:ActiveProcessorCount=8 -Xms632m -Xmx1265m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.locks=ALL-UNNAMED -Dproduct.version=7.1.1-3175 -DlogRolloverThresholdBytes=41943040 -DlogRolloverMaxFiles=10 -Dnetworkaddress.cache.ttl=15 -Dcom.couchbase.analytics.bootstrapLogLevel=DEBUG -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/cbas-install-7.1.1.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1678dfae96c38e07dff43c49b9f6967b --cc]
2022-09-07T14:32:21.114+00:00 INFO CBAS.cbas analytics driver is running; pid: 683
2022-09-07T14:32:22.494+00:00 WARN CBAS.util.PreferSystemPropertiesPropertySource [main] System properties is the preferred source of log4j properties
2022-09-07T14:32:22.870+00:00 INFO CBAS.config.ConfigManager [main] no INI file specified; skipping parsing
2022-09-07T14:32:22.934+00:00 INFO CBAS.config.PropertiesAccessor [main] configured partitions: {1678dfae96c38e07dff43c49b9f6967b=[ID:0, Original Node: 1678dfae96c38e07dff43c49b9f6967b, IODevice: 0, Active Node: null, Pending Activation: false]} from config org.apache.hyracks.control.common.application.ConfigManagerApplicationConfig@29f0802c
2022-09-07T14:32:22.934+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2022-09-07T14:32:23.988+00:00 INFO CBAS.nc.NodeControllerService [main] Setting uncaught exception handler org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1422ac7f
2022-09-07T14:32:24.054+00:00 INFO CBAS.config.ConfigManager [main] no command line args supplied
2022-09-07T14:32:24.054+00:00 INFO CBAS.config.ConfigManager [main] no INI file specified; skipping parsing
2022-09-07T14:32:24.065+00:00 INFO CBAS.config.ConfigManager [main] no command line args supplied
2022-09-07T14:32:24.079+00:00 INFO CBAS.config.PropertiesAccessor [main] configured partitions: {1678dfae96c38e07dff43c49b9f6967b=[ID:0, Original Node: 1678dfae96c38e07dff43c49b9f6967b, IODevice: 0, Active Node: null, Pending Activation: false]} from config org.apache.hyracks.control.common.application.ConfigManagerApplicationConfig@73844119
2022-09-07T14:32:24.079+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2022-09-07T14:32:24.164+00:00 INFO CBAS.cc.ClusterControllerService [main] Starting ClusterControllerService: com.couchbase.analytics.bootstrap.AnalyticsClusterControllerService@3a66e67e
2022-09-07T14:32:24.377+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2022-09-07T14:32:24.855+00:00 INFO CBAS.util.ExitUtil [main] successfully registered shutdown hook Thread[Thread-6,5,main]
2022-09-07T14:32:24.910+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2022-09-07T14:32:24.931+00:00 INFO CBAS.rebalance.TopologyManager [main] initialized topology manager with {"version":1,"revision":-1,"balanced":true,"ccNodeId":"1678dfae96c38e07dff43c49b9f6967b","metadataPartition":-1,"numReplicas":0,"partitions":[]}
2022-09-07T14:32:24.975+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2022-09-07T14:32:25.027+00:00 INFO CBAS.bootstrap.ClusterMonitor [Local cluster monitor pool stream consumer] bootstrapped buckets to []
2022-09-07T14:32:25.027+00:00 INFO CBAS.bootstrap.Auditor [Local cluster monitor pool stream consumer] processing audit settings update: (uid now 55497325)
2022-09-07T14:32:25.059+00:00 INFO CBAS.bootstrap.Auditor [Local cluster monitor pool stream consumer] auditor bootstrap complete
2022-09-07T14:32:25.329+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2022-09-07T14:32:25.343+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2022-09-07T14:32:25.353+00:00 INFO CBAS.bootstrap.MetadataLockDump [main] Metadata lock dumps will be included in diagnostics & periodic thread dumps
2022-09-07T14:32:25.353+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2022-09-07T14:32:25.377+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer.Traces.1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:25.380+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer.Traces.1678dfae96c38e07dff43c49b9f6967b to []
2022-09-07T14:32:25.387+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] JVM properties: {"java.awt.graphicsenv":"sun.awt.X11GraphicsEnvironment","java.awt.printerjob":"sun.print.PSPrinterJob","java.class.path":"/opt/couchbase/lib/cbas/repo/cbas-install-7.1.1.jar","java.class.version":"55.0","java.home":"/opt/couchbase/lib/cbas/runtime","java.io.tmpdir":"/opt/couchbase/var/lib/couchbase/tmp","java.library.path":"/opt/couchbase/lib:/opt/couchbase/lib/memcached::/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib","java.net.preferIPv6Addresses":"false","java.rmi.server.hostname":"127.0.0.1","java.runtime.name":"OpenJDK Runtime Environment","java.runtime.version":"11.0.15+10","java.specification.name":"Java Platform API Specification","java.specification.vendor":"Oracle Corporation","java.specification.version":"11","java.util.logging.manager":"org.apache.logging.log4j.jul.LogManager","java.vendor":"Eclipse Adoptium","java.vendor.url":"https://adoptium.net/","java.vendor.url.bug":"https://github.com/adoptium/adoptium-support/issues","java.vendor.version":"Temurin-11.0.15+10","java.version":"11.0.15","java.version.date":"2022-04-19","java.vm.compressedOopsMode":"32-bit","java.vm.info":"mixed mode","java.vm.name":"OpenJDK 64-Bit Server VM","java.vm.specification.name":"Java Virtual Machine Specification","java.vm.specification.vendor":"Oracle Corporation","java.vm.specification.version":"11","java.vm.vendor":"Eclipse Adoptium","java.vm.version":"11.0.15+10"}
2022-09-07T14:32:25.388+00:00 INFO CBAS.config.PropertiesAccessor [main] configured partitions: {1678dfae96c38e07dff43c49b9f6967b=[ID:0, Original Node: 1678dfae96c38e07dff43c49b9f6967b, IODevice: 0, Active Node: null, Pending Activation: false]} from config org.apache.hyracks.control.common.config.ConfigManager$2@9f9146d
2022-09-07T14:32:25.389+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2022-09-07T14:32:25.398+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Wed Jun 29 04:04:00 UTC 2022","build.number":"3175","build.version":"7.1.1"}
2022-09-07T14:32:25.400+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:25.481+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2, "dataset-checkpoint-interval" : 3600}
2022-09-07T14:32:25.485+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2022-09-07T14:32:25.487+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/ didn't exist. Creating one
2022-09-07T14:32:25.491+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-07T14:32:25.495+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:25.508+00:00 INFO CBAS.logging.LogManager [main] the log dir (/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log) is empty. returning empty list
2022-09-07T14:32:25.531+00:00 INFO CBAS.logging.LogManager [main] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_0
2022-09-07T14:32:25.535+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 0 at offset: 0
2022-09-07T14:32:25.536+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 0
2022-09-07T14:32:25.556+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-07T14:32:25.558+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:25.559+00:00 INFO CBAS.nc.RecoveryManager [main] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2022-09-07T14:32:25.560+00:00 WARN CBAS.nc.NCAppRuntimeContext [main] Deleting the storage dir. initialRun = false, systemState = PERMANENT_DATA_LOSS
2022-09-07T14:32:25.571+00:00 INFO CBAS.nc.NCAppRuntimeContext [main] The value of maxScheduledFlushes is not provided. Setting maxConcurrentFlushes = 1.
2022-09-07T14:32:25.688+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-07T14:32:25.690+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:25.690+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-07T14:32:25.693+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:25.693+00:00 INFO CBAS.nc.RecoveryManager [main] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2022-09-07T14:32:25.694+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: PERMANENT_DATA_LOSS
2022-09-07T14:32:25.694+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:25.694+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1678dfae96c38e07dff43c49b9f6967b=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2022-09-07T14:32:25.757+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2022-09-07T14:32:25.782+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2022-09-07T14:32:25.868+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:25.886+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:25.896+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2022-09-07T14:32:25.897+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2022-09-07T14:32:25.899+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:25.900+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1678dfae96c38e07dff43c49b9f6967b joined
2022-09-07T14:32:25.919+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1678dfae96c38e07dff43c49b9f6967b
2022-09-07T14:32:26.006+00:00 INFO CBAS.bootstrap.ClusterMonitor [Local cluster monitor pool stream consumer] updated buckets to [todo] (was [])
2022-09-07T14:32:26.079+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2022-09-07T14:32:26.085+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2022-09-07T14:32:26.086+00:00 INFO CBAS.util.ExitUtil [main] successfully registered shutdown hook Thread[ShutdownHook-1678dfae96c38e07dff43c49b9f6967b,5,main]
2022-09-07T14:32:26.090+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1678dfae96c38e07dff43c49b9f6967b] Aborting all tasks for controller CC:0
2022-09-07T14:32:26.100+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Ensuring all tasks of CC CC:0 have completed
2022-09-07T14:32:26.111+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-11:1678dfae96c38e07dff43c49b9f6967b] all tasks of CC CC:0 have completed
2022-09-07T14:32:26.609+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/certs/chain.pem","trustedCAPath":"/opt/couchbase/var/lib/couchbase/config/certs/ca.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_AES_256_GCM_SHA384","TLS_CHACHA20_POLY1305_SHA256","TLS_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_RSA_WITH_AES_128_CBC_SHA"],"minTlsVersion":1.2,"preferServerCipherSuites":true,"supportedProtocols":["TLSv1.3","TLSv1.2"],"clientAuth":"NONE"}
2022-09-07T14:32:26.617+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Getting latest checkpoint
2022-09-07T14:32:26.617+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2022-09-07T14:32:26.620+00:00 INFO CBAS.cbas starting coordinator
2022-09-07T14:32:26.621+00:00 INFO CBAS.cbas Starting replicas monitor
2022-09-07T14:32:26.622+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2022-09-07T14:32:26.621+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:26.623+00:00 INFO CBAS.nc.RecoveryManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2022-09-07T14:32:26.625+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2022-09-07T14:32:26.673+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2022-09-07T14:32:26.684+00:00 INFO CBAS.message.RegistrationTasksRequestMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] sending RegistrationTasksRequestMessage{state=BOOTSTRAPPING, nodeId='1678dfae96c38e07dff43c49b9f6967b', nodeStatus=IDLE, activePartitions=[0]} to CC
2022-09-07T14:32:26.706+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: RegistrationTasksRequestMessage{state=BOOTSTRAPPING, nodeId='1678dfae96c38e07dff43c49b9f6967b', nodeStatus=IDLE, activePartitions=[0]}
2022-09-07T14:32:26.707+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-9:ClusterController] Building registration tasks for node 1678dfae96c38e07dff43c49b9f6967b with status IDLE and system state: BOOTSTRAPPING and active partitions [0]
2022-09-07T14:32:26.749+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1678dfae96c38e07dff43c49b9f6967b] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@59f4b606
2022-09-07T14:32:26.751+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: UpdateNodeStatusTask{status=BOOTING, activePartitions=[0]}
2022-09-07T14:32:26.751+00:00 INFO CBAS.task.UpdateNodeStatusTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] updating node active partitions to [0]
2022-09-07T14:32:26.751+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: UpdateNodeStatusTask{status=BOOTING, activePartitions=[0]}
2022-09-07T14:32:26.751+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: LocalStorageCleanupTask{metadataPartitionId=-1}
2022-09-07T14:32:26.766+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: LocalStorageCleanupTask{metadataPartitionId=-1}
2022-09-07T14:32:26.766+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "StartReplicationServiceTask" }
2022-09-07T14:32:26.767+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "StartReplicationServiceTask" }
2022-09-07T14:32:26.769+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "MetadataBootstrapTask" }
2022-09-07T14:32:26.769+00:00 WARN CBAS.nc.ReplicaManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] promoting partition -1
2022-09-07T14:32:26.771+00:00 INFO CBAS.management.ReplicationChannel [1678dfae96c38e07dff43c49b9f6967b Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2022-09-07T14:32:26.788+00:00 INFO CBAS.nc.RecoveryManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Logs analysis phase completed.
2022-09-07T14:32:26.799+00:00 INFO CBAS.nc.RecoveryManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Analysis log count update/entityCommit/jobCommit/abort = 0/0/0/0
2022-09-07T14:32:26.802+00:00 INFO CBAS.nc.RecoveryManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Logs REDO phase completed. Redo logs count: 0
2022-09-07T14:32:26.806+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Getting latest checkpoint
2022-09-07T14:32:26.809+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:26.810+00:00 INFO CBAS.nc.RecoveryManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] The checkpoint file doesn't exist: systemState = PERMANENT_DATA_LOSS
2022-09-07T14:32:26.810+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Bootstrapping metadata
2022-09-07T14:32:26.843+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-11:1678dfae96c38e07dff43c49b9f6967b] block exhausted; obtaining new block from supplier
2022-09-07T14:32:26.853+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: TxnIdBlockRequest
2022-09-07T14:32:26.857+00:00 INFO CBAS.messaging.NCMessageBroker [Executor-12:1678dfae96c38e07dff43c49b9f6967b] Received message: TxnIdBlockResponse
2022-09-07T14:32:31.026+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished enlistment of metadata B-trees in new universe
2022-09-07T14:32:31.135+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Dataverse/0/Dataverse", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.235+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Dataset/0/Dataset", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.267+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Index/0/Index", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.318+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished inserting initial datasets.
2022-09-07T14:32:31.347+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Datatype/0/Datatype", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.470+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished inserting initial datatypes.
2022-09-07T14:32:31.503+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Node/0/Node", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.534+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Nodegroup/0/Nodegroup", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.563+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/DatasourceAdapter/0/DatasourceAdapter", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.566+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished inserting built-in adapters.
2022-09-07T14:32:31.593+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/FeedPolicy/0/FeedPolicy", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.598+00:00 INFO CBAS.feeds.BuiltinFeedPolicies [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished adding built-in feed policies.
2022-09-07T14:32:31.626+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/CompactionPolicy/0/CompactionPolicy", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:31.632+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished creating metadata B-trees.
2022-09-07T14:32:31.660+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting DDL recovery ...
2022-09-07T14:32:31.723+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed DDL recovery.
2022-09-07T14:32:32.259+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished inserting initial datasets.
2022-09-07T14:32:32.297+00:00 INFO CBAS.context.GlobalVirtualBufferCache [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Registered metadata index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Link/0/Link", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":0, "current-memory-component":0} to the global VBC
2022-09-07T14:32:32.312+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Metadata node bound
2022-09-07T14:32:32.312+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "MetadataBootstrapTask" }
2022-09-07T14:32:32.313+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "CheckpointTask" }
2022-09-07T14:32:32.313+00:00 INFO CBAS.recovery.CheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting sharp checkpoint...
2022-09-07T14:32:32.359+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Dataverse/0/Dataverse", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:32.548+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Dataset/0/Dataset", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:32.633+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Datatype/0/Datatype", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:32.743+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Index/0/Index", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:32.823+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Node/0/Node", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:32.906+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Nodegroup/0/Nodegroup", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:32.986+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/DatasourceAdapter/0/DatasourceAdapter", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:33.084+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/FeedPolicy/0/FeedPolicy", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:33.174+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/CompactionPolicy/0/CompactionPolicy", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:33.264+00:00 INFO CBAS.impls.AbstractLSMIndex [Executor-14:1678dfae96c38e07dff43c49b9f6967b] Flushing component with id: [1,1] in the index {"class" : "LSMBTree", "dir" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage/partition_-1/Metadata/Link/0/Link", "memory" : [{"class":"LSMBTreeMemoryComponent", "state":"READABLE_UNWRITABLE_FLUSHING", "writers":0, "readers":1, "pendingFlushes":0, "id":"[1,1]"}, {"class":"LSMBTreeMemoryComponent", "state":"INACTIVE", "writers":0, "readers":0, "pendingFlushes":0, "id":"null"}], "disk" : 0, "num-scheduled-flushes":1, "current-memory-component":1}
2022-09-07T14:32:33.329+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned empty
2022-09-07T14:32:33.338+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0 which doesn't exist yet
2022-09-07T14:32:33.357+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0 which now exists
2022-09-07T14:32:33.360+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-07T14:32:33.360+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-07T14:32:33.364+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Terminating LogFlusher thread ...
2022-09-07T14:32:33.366+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] LogFlusher thread is terminated.
2022-09-07T14:32:33.366+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] closing current log file with id(0)
2022-09-07T14:32:33.379+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_1
2022-09-07T14:32:33.386+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_0
2022-09-07T14:32:33.389+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] initializing log anchor with log file Id: 1 at offset: 0
2022-09-07T14:32:33.389+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] LogManager starts logging in LSN: 268435456
2022-09-07T14:32:33.391+00:00 INFO CBAS.recovery.CheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed sharp checkpoint.
2022-09-07T14:32:33.392+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "CheckpointTask" }
2022-09-07T14:32:33.393+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2022-09-07T14:32:33.393+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting lifecycle components
2022-09-07T14:32:33.393+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2022-09-07T14:32:33.394+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1422ac7f
2022-09-07T14:32:33.394+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@1422ac7f
2022-09-07T14:32:33.397+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2022-09-07T14:32:33.399+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2022-09-07T14:32:33.428+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2022-09-07T14:32:33.429+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "BindMetadataNodeTask" }
2022-09-07T14:32:33.441+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "BindMetadataNodeTask" }
2022-09-07T14:32:33.442+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: UpdateNodeStatusTask{status=ACTIVE, activePartitions=[0]}
2022-09-07T14:32:33.442+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: UpdateNodeStatusTask{status=ACTIVE, activePartitions=[0]}
2022-09-07T14:32:33.443+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "CheckRebalanceRequiredTask" }
2022-09-07T14:32:33.908+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "CheckRebalanceRequiredTask" }
2022-09-07T14:32:33.908+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: com.couchbase.analytics.bootstrap.RegisterProxyablePrefixesTask@5932643c
2022-09-07T14:32:33.911+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: com.couchbase.analytics.bootstrap.RegisterProxyablePrefixesTask@5932643c
2022-09-07T14:32:34.453+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: NCLifecycleTaskReportMessage{nodeId='1678dfae96c38e07dff43c49b9f6967b', success=true, exception=null, localCounters=NcLocalCounters{maxResourceId=100, maxTxnId=512, maxJobId=0}, activePartitions=[0, -1]}
2022-09-07T14:32:34.456+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] Metadata node 1678dfae96c38e07dff43c49b9f6967b is now active
2022-09-07T14:32:34.460+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] updating cluster state from UNUSABLE to PENDING
2022-09-07T14:32:34.469+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] Cluster State is now PENDING
2022-09-07T14:32:34.469+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] updating cluster state from PENDING to RECOVERING
2022-09-07T14:32:34.470+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] Cluster State is now RECOVERING
2022-09-07T14:32:34.472+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-10:ClusterController] Starting Global Recovery
2022-09-07T14:32:34.498+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1678dfae96c38e07dff43c49b9f6967b] Received message: StorageCleanupRequestMessage
2022-09-07T14:32:34.938+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: { "response" : "success"}
2022-09-07T14:32:34.938+00:00 WARN CBAS.topology.PartitionsTopology [Executor-10:ClusterController] updating initial topology
2022-09-07T14:32:34.947+00:00 INFO CBAS.rebalance.ReplicaPlacementUtil [Executor-10:ClusterController] ordered surviving nodes: [1678dfae96c38e07dff43c49b9f6967b]
2022-09-07T14:32:34.951+00:00 INFO CBAS.rebalance.TopologyManager [Executor-10:ClusterController] Updating partitions topology to {"version":1,"revision":0,"balanced":true,"ccNodeId":"1678dfae96c38e07dff43c49b9f6967b","metadataPartition":-1,"numReplicas":0,"partitions":[{"id":"0","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]},{"id":"-1","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]}]}
2022-09-07T14:32:34.966+00:00 INFO CBAS.messaging.NCMessageBroker [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Received message: com.couchbase.analytics.messaging.TopologyMessage@7f82cdbb
2022-09-07T14:32:34.967+00:00 INFO CBAS.rebalance.TopologyMonitor [Executor-13:1678dfae96c38e07dff43c49b9f6967b] got topology from cc: {"version":1,"revision":0,"balanced":true,"ccNodeId":"1678dfae96c38e07dff43c49b9f6967b","metadataPartition":-1,"numReplicas":0,"partitions":[{"id":"0","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]},{"id":"-1","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]}]}
2022-09-07T14:32:34.977+00:00 INFO CBAS.rebalance.TopologyMonitor [Topology Monitor] keeping partitions [-1, 0]
2022-09-07T14:32:35.970+00:00 INFO CBAS.rebalance.TopologyCoordinator [Executor-10:ClusterController] partitions topology rev 0 is now in-sync
2022-09-07T14:32:35.992+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-10:ClusterController] Global Recovery Completed. Refreshing cluster state...
2022-09-07T14:32:35.993+00:00 INFO CBAS.utils.ClusterStateManager [Executor-10:ClusterController] updating cluster state from RECOVERING to ACTIVE
2022-09-07T14:32:35.994+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-9:ClusterController] Starting active recovery
2022-09-07T14:32:35.996+00:00 INFO CBAS.utils.ClusterStateManager [Executor-10:ClusterController] Cluster State is now ACTIVE
2022-09-08T12:07:43.084+00:00 WARN CBAS.cbas Updating log level to DEBUG (1)
2022-09-08T12:07:43.086+00:00 INFO CBAS.cbas ++++++++++++ starting cbas main ++++++++++++
2022-09-08T12:07:43.089+00:00 INFO CBAS.cbas uuid: 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:43.089+00:00 INFO CBAS.cbas IPv4 addresses: [127.0.0.1 172.18.0.2]
2022-09-08T12:07:43.089+00:00 INFO CBAS.cbas IPv6 addresses: []
2022-09-08T12:07:43.089+00:00 INFO CBAS.cbas setting ipv4 required, ipv6 optional
2022-09-08T12:07:43.094+00:00 INFO CBAS.cbas using previously configured io devices (1)
2022-09-08T12:07:43.095+00:00 INFO CBAS.cbas setting java.home to bundled jre (/opt/couchbase/lib/cbas/runtime)
2022-09-08T12:07:43.409+00:00 INFO CBAS.cbas initialized cluster encryption with data encryption as false
2022-09-08T12:07:44.551+00:00 INFO CBAS.cbas clusterCompatibility init'd to 458753
2022-09-08T12:07:44.558+00:00 INFO CBAS.cbas initEventLogger: Started SystemEventLogger
2022-09-08T12:07:44.563+00:00 WARN CBAS.cbas config has been refreshed by ns server. New value 7
2022-09-08T12:07:44.563+00:00 WARN CBAS.cbas cluster encryption has been refreshed by ns server
2022-09-08T12:07:44.563+00:00 WARN CBAS.cbas tls config has been refreshed by ns server
2022-09-08T12:07:44.563+00:00 INFO CBAS.cbas Starting clusterCompatibility monitor
2022-09-08T12:07:44.571+00:00 INFO CBAS.cbas our node is within topology refresh bd9f7bc826257f1781c2ba1e03188aa1/1; ensuring driver is running...
2022-09-08T12:07:44.583+00:00 INFO CBAS.cbas initializing audit service at: http://127.0.0.1:8091
2022-09-08T12:07:44.662+00:00 INFO CBAS.cbas audit: created new audit service
2022-09-08T12:07:44.684+00:00 INFO CBAS.cbas ignoring optional family address IPv6: listen tcp6 [::1]:8095: bind: cannot assign requested address
2022-09-08T12:07:44.685+00:00 INFO CBAS.cbas ignoring optional family address IPv6: listen tcp6 [::1]:18095: bind: cannot assign requested address
2022-09-08T12:07:44.685+00:00 INFO CBAS.cbas setting max number of CPUs to: 8
2022-09-08T12:07:44.685+00:00 INFO CBAS.cbas allocating 632MiB/1265MiB for heap min/max (reserved 223MiB of 1488MiB service quota for non-heap allocations) 
2022-09-08T12:07:44.685+00:00 INFO CBAS.cbas nodeConfigMap: map[additionalCcNodes:[] address:0.0.0.0 analyticsCbHome:/opt/couchbase analyticsCcHttpPort:9111 analyticsHttpAdminListenPort:9110 analyticsHttpListenAddress:[127.0.0.1 172.18.0.2] analyticsHttpListenPort:8095 analyticsHttpsListenAddress:[127.0.0.1 172.18.0.2] analyticsHttpsListenPort:18095 analyticsNodeName:127.0.0.1:8091 analyticsSslEnabled:true cbasAddress:127.0.0.1 cbasPort:9122 ccAddress:0.0.0.0 ccAnalyticsHttpListenPort:9111 ccAnalyticsMetadataPartitionId:-1 ccClientListenPort:9113 ccClusterListenPort:9112 ccConsoleListenPort:9114 ccControllerId:0 ccHeartbeatMaxMisses:20 ccHeartbeatPeriod:30000 ccPublicAddress:127.0.0.1 clusterAddress:127.0.0.1 clusterCompatibility:458753 clusterListenPort:9115 clusterPort:9112 dataListenPort:9116 defaultDir:/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0 developerPreview:false initialRun:false iodevices:[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0] logDir:/opt/couchbase/var/lib/couchbase/logs messagingListenPort:9118 metadataCallbackPort:9119 metadataListenPort:9121 metadataNode:1678dfae96c38e07dff43c49b9f6967b ncservicePort:-1 nsServerAddress:127.0.0.1 nsServerPort:8091 nsServerSslPort:18091 numReplicas:0 productVersion:7.1.1-3175 publicAddress:127.0.0.1 replicationEnabled:true replicationFactor:4096 replicationListenPort:9120 replicationLogBufferPagesize:262144 replicationStrategy:all resultListenPort:9117 sslEnabled:false startingPartitionId:0 txnLogBufferPagesize:262144]
2022-09-08T12:07:44.700+00:00 INFO CBAS.cbas running /opt/couchbase/lib/cbas/runtime/bin/java args:[-XX:+ExitOnOutOfMemoryError -XX:MaxGCPauseMillis=60000 -XX:+UseParallelGC -XX:ActiveProcessorCount=8 -Xms632m -Xmx1265m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=/opt/couchbase/var/lib/couchbase/tmp -Djava.net.preferIPv6Addresses=false --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED --add-opens=java.management/sun.management=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.locks=ALL-UNNAMED -Dproduct.version=7.1.1-3175 -DlogRolloverThresholdBytes=41943040 -DlogRolloverMaxFiles=10 -Dnetworkaddress.cache.ttl=15 -Dcom.couchbase.analytics.bootstrapLogLevel=DEBUG -DlogDir=/opt/couchbase/var/lib/couchbase/logs -cp /opt/couchbase/lib/cbas/repo/cbas-install-7.1.1.jar com.couchbase.analytics.control.AnalyticsDriver --jsonconfig /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/config.json --nc -node-id 1678dfae96c38e07dff43c49b9f6967b --cc]
2022-09-08T12:07:44.710+00:00 INFO CBAS.cbas analytics driver is running; pid: 535
2022-09-08T12:07:47.292+00:00 WARN CBAS.util.PreferSystemPropertiesPropertySource [main] System properties is the preferred source of log4j properties
2022-09-08T12:07:47.911+00:00 INFO CBAS.config.ConfigManager [main] no INI file specified; skipping parsing
2022-09-08T12:07:48.016+00:00 INFO CBAS.config.PropertiesAccessor [main] configured partitions: {1678dfae96c38e07dff43c49b9f6967b=[ID:0, Original Node: 1678dfae96c38e07dff43c49b9f6967b, IODevice: 0, Active Node: null, Pending Activation: false]} from config org.apache.hyracks.control.common.application.ConfigManagerApplicationConfig@29f0802c
2022-09-08T12:07:48.017+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2022-09-08T12:07:50.202+00:00 INFO CBAS.nc.NodeControllerService [main] Setting uncaught exception handler org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@5e519ad3
2022-09-08T12:07:50.364+00:00 INFO CBAS.config.ConfigManager [main] no command line args supplied
2022-09-08T12:07:50.365+00:00 INFO CBAS.config.ConfigManager [main] no INI file specified; skipping parsing
2022-09-08T12:07:50.370+00:00 INFO CBAS.config.ConfigManager [main] no command line args supplied
2022-09-08T12:07:50.389+00:00 INFO CBAS.config.PropertiesAccessor [main] configured partitions: {1678dfae96c38e07dff43c49b9f6967b=[ID:0, Original Node: 1678dfae96c38e07dff43c49b9f6967b, IODevice: 0, Active Node: null, Pending Activation: false]} from config org.apache.hyracks.control.common.application.ConfigManagerApplicationConfig@44f24a20
2022-09-08T12:07:50.390+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2022-09-08T12:07:50.528+00:00 INFO CBAS.cc.ClusterControllerService [main] Starting ClusterControllerService: com.couchbase.analytics.bootstrap.AnalyticsClusterControllerService@75d4a80f
2022-09-08T12:07:50.879+00:00 INFO CBAS.bootstrap.CCApplication [main] Starting Asterix cluster controller
2022-09-08T12:07:51.886+00:00 INFO CBAS.util.ExitUtil [main] successfully registered shutdown hook Thread[Thread-6,5,main]
2022-09-08T12:07:51.998+00:00 INFO CBAS.util.SingleThreadEventProcessor [ActiveNotificationHandler] Started ActiveNotificationHandler
2022-09-08T12:07:52.079+00:00 INFO CBAS.rebalance.TopologyManager [main] initialized topology manager with {"version":1,"revision":0,"balanced":true,"ccNodeId":"1678dfae96c38e07dff43c49b9f6967b","metadataPartition":-1,"numReplicas":0,"partitions":[{"id":"0","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]},{"id":"-1","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]}]}
2022-09-08T12:07:52.245+00:00 INFO CBAS.bootstrap.AsterixStateProxy [main] Asterix Distributed State Proxy Bound
2022-09-08T12:07:52.337+00:00 INFO CBAS.bootstrap.ClusterMonitor [Local cluster monitor pool stream consumer] bootstrapped buckets to [todo]
2022-09-08T12:07:52.338+00:00 INFO CBAS.bootstrap.Auditor [Local cluster monitor pool stream consumer] processing audit settings update: (uid now 55497325)
2022-09-08T12:07:52.385+00:00 INFO CBAS.bootstrap.Auditor [Local cluster monitor pool stream consumer] auditor bootstrap complete
2022-09-08T12:07:52.864+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [main] Starting cluster event handler
2022-09-08T12:07:52.877+00:00 INFO CBAS.cc.ClusterControllerService [main] Started ClusterControllerService
2022-09-08T12:07:52.889+00:00 INFO CBAS.bootstrap.MetadataLockDump [main] Metadata lock dumps will be included in diagnostics & periodic thread dumps
2022-09-08T12:07:52.889+00:00 INFO CBAS.nc.NodeControllerService [main] Starting NodeControllerService
2022-09-08T12:07:52.916+00:00 INFO CBAS.trace.Tracer [main] Initialize Tracer org.apache.hyracks.util.trace.Tracer.Traces.1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:52.920+00:00 INFO CBAS.trace.Tracer [main] Set categories for Tracer org.apache.hyracks.util.trace.Tracer.Traces.1678dfae96c38e07dff43c49b9f6967b to []
2022-09-08T12:07:52.930+00:00 INFO CBAS.bootstrap.AnalyticsApplicationUtil [main] JVM properties: {"java.awt.graphicsenv":"sun.awt.X11GraphicsEnvironment","java.awt.printerjob":"sun.print.PSPrinterJob","java.class.path":"/opt/couchbase/lib/cbas/repo/cbas-install-7.1.1.jar","java.class.version":"55.0","java.home":"/opt/couchbase/lib/cbas/runtime","java.io.tmpdir":"/opt/couchbase/var/lib/couchbase/tmp","java.library.path":"/opt/couchbase/lib:/opt/couchbase/lib/memcached::/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib","java.net.preferIPv6Addresses":"false","java.rmi.server.hostname":"127.0.0.1","java.runtime.name":"OpenJDK Runtime Environment","java.runtime.version":"11.0.15+10","java.specification.name":"Java Platform API Specification","java.specification.vendor":"Oracle Corporation","java.specification.version":"11","java.util.logging.manager":"org.apache.logging.log4j.jul.LogManager","java.vendor":"Eclipse Adoptium","java.vendor.url":"https://adoptium.net/","java.vendor.url.bug":"https://github.com/adoptium/adoptium-support/issues","java.vendor.version":"Temurin-11.0.15+10","java.version":"11.0.15","java.version.date":"2022-04-19","java.vm.compressedOopsMode":"32-bit","java.vm.info":"mixed mode","java.vm.name":"OpenJDK 64-Bit Server VM","java.vm.specification.name":"Java Virtual Machine Specification","java.vm.specification.vendor":"Oracle Corporation","java.vm.specification.version":"11","java.vm.vendor":"Eclipse Adoptium","java.vm.version":"11.0.15+10"}
2022-09-08T12:07:52.933+00:00 INFO CBAS.config.PropertiesAccessor [main] configured partitions: {1678dfae96c38e07dff43c49b9f6967b=[ID:0, Original Node: 1678dfae96c38e07dff43c49b9f6967b, IODevice: 0, Active Node: null, Pending Activation: false]} from config org.apache.hyracks.control.common.config.ConfigManager$2@598657cd
2022-09-08T12:07:52.933+00:00 INFO CBAS.config.PropertiesAccessor [main] Build properties not found on classpath. Version API will return empty object
2022-09-08T12:07:52.948+00:00 INFO CBAS.bootstrap.AnalyticsNCApplication [main] Starting Couchbase Analytics driver, version: {"build.date":"Wed Jun 29 04:04:00 UTC 2022","build.number":"3175","build.version":"7.1.1"}
2022-09-08T12:07:52.951+00:00 INFO CBAS.bootstrap.NCApplication [main] Starting Asterix node controller: 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:53.085+00:00 INFO CBAS.nc.TransactionSubsystem [main] Checkpoint Properties: {"class" : "CheckpointProperties", "checkpoint-dir-path" : "/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log", "lsn-threshold" : 67108864, "poll-frequency" : 120, "history-to-keep" : 2, "dataset-checkpoint-interval" : 3600}
2022-09-08T12:07:53.093+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Checkpoint directory = /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log
2022-09-08T12:07:53.099+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-08T12:07:53.117+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:07:53.120+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:07:53.251+00:00 INFO CBAS.logging.LogManager [main] initializing log anchor with log file Id: 1 at offset: 0
2022-09-08T12:07:53.254+00:00 INFO CBAS.logging.LogManager [main] LogManager starts logging in LSN: 268435456
2022-09-08T12:07:53.297+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-08T12:07:53.304+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:07:53.304+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:07:53.329+00:00 INFO CBAS.nc.NCAppRuntimeContext [main] The value of maxScheduledFlushes is not provided. Setting maxConcurrentFlushes = 1.
2022-09-08T12:07:53.522+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-08T12:07:53.529+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:07:53.530+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:07:53.538+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Getting latest checkpoint
2022-09-08T12:07:53.543+00:00 INFO CBAS.recovery.AbstractCheckpointManager [main] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:07:53.543+00:00 WARN CBAS.recovery.AbstractCheckpointManager [main] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:07:53.562+00:00 INFO CBAS.bootstrap.NCApplication [main] System state: HEALTHY
2022-09-08T12:07:53.562+00:00 INFO CBAS.bootstrap.NCApplication [main] Node ID: 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:53.562+00:00 INFO CBAS.bootstrap.NCApplication [main] Stores: {1678dfae96c38e07dff43c49b9f6967b=[/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/storage]}
2022-09-08T12:07:53.648+00:00 INFO CBAS.nc.NodeControllerService [main] addCc: /127.0.0.1:9112
2022-09-08T12:07:53.658+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112]
2022-09-08T12:07:53.692+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registering node: 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:53.698+00:00 WARN CBAS.cluster.NodeManager [Worker:ClusterController] +addNode: 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:53.700+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] adding node to registry
2022-09-08T12:07:53.700+00:00 INFO CBAS.cluster.NodeManager [Worker:ClusterController] updating cluster capacity
2022-09-08T12:07:53.703+00:00 INFO CBAS.work.RegisterNodeWork [Worker:ClusterController] registered node: 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:53.703+00:00 INFO CBAS.bootstrap.ClusterLifecycleListener [Worker:ClusterController] NC: 1678dfae96c38e07dff43c49b9f6967b joined
2022-09-08T12:07:53.704+00:00 INFO CBAS.utils.ClusterStateManager [Worker:ClusterController] Registering configuration parameters for node id 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:07:53.800+00:00 INFO CBAS.nc.NodeControllerService [main] Registering with Cluster Controller ClusterControllerRemoteProxy [/127.0.0.1:9112] completed
2022-09-08T12:07:53.801+00:00 INFO CBAS.nc.NodeControllerService [main] Started NodeControllerService
2022-09-08T12:07:53.802+00:00 INFO CBAS.work.AbortAllJobsWork [Worker:1678dfae96c38e07dff43c49b9f6967b] Aborting all tasks for controller CC:0
2022-09-08T12:07:53.802+00:00 INFO CBAS.util.ExitUtil [main] successfully registered shutdown hook Thread[ShutdownHook-1678dfae96c38e07dff43c49b9f6967b,5,main]
2022-09-08T12:07:53.809+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Ensuring all tasks of CC CC:0 have completed
2022-09-08T12:07:53.820+00:00 INFO CBAS.work.EnsureAllCcTasksCompleted [Executor-11:1678dfae96c38e07dff43c49b9f6967b] all tasks of CC CC:0 have completed
2022-09-08T12:08:00.832+00:00 WARN CBAS.server.AnalyticsHttpsServerInitializer [main] Configured SSL Context using configuration {"certificatePath":"/opt/couchbase/var/lib/couchbase/config/certs/chain.pem","trustedCAPath":"/opt/couchbase/var/lib/couchbase/config/certs/ca.pem","privateKeyPath":"/opt/couchbase/var/lib/couchbase/config/certs/pkey.pem","clientCertAuthType":"NONE","supportedCiphers":["TLS_AES_256_GCM_SHA384","TLS_CHACHA20_POLY1305_SHA256","TLS_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384","TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384","TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256","TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA","TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA","TLS_RSA_WITH_AES_256_CBC_SHA","TLS_RSA_WITH_AES_128_CBC_SHA"],"minTlsVersion":1.2,"preferServerCipherSuites":true,"supportedProtocols":["TLSv1.3","TLSv1.2"],"clientAuth":"NONE"}
2022-09-08T12:08:00.855+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Getting latest checkpoint
2022-09-08T12:08:00.855+00:00 INFO CBAS.bootstrap.NsServerHelper [main] starting coordinator service
2022-09-08T12:08:00.859+00:00 INFO CBAS.cbas starting coordinator
2022-09-08T12:08:00.860+00:00 INFO CBAS.cbas Starting replicas monitor
2022-09-08T12:08:00.861+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:08:00.862+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:08:00.863+00:00 INFO CBAS.bootstrap.NsServerHelper [main] Coordinator service started
2022-09-08T12:08:00.866+00:00 INFO CBAS.bootstrap.DeadlockWatchdog [main] The deadlock watchdog started at 300s frequency
2022-09-08T12:08:00.932+00:00 INFO CBAS.bootstrap.PeriodicThreadDump [main] Periodic thread dumps will be logged at DEBUG level every 300 seconds
2022-09-08T12:08:00.938+00:00 INFO CBAS.message.RegistrationTasksRequestMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] sending RegistrationTasksRequestMessage{state=HEALTHY, nodeId='1678dfae96c38e07dff43c49b9f6967b', nodeStatus=IDLE, activePartitions=[0]} to CC
2022-09-08T12:08:00.953+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: RegistrationTasksRequestMessage{state=HEALTHY, nodeId='1678dfae96c38e07dff43c49b9f6967b', nodeStatus=IDLE, activePartitions=[0]}
2022-09-08T12:08:00.954+00:00 INFO CBAS.replication.NcLifecycleCoordinator [Executor-9:ClusterController] Building registration tasks for node 1678dfae96c38e07dff43c49b9f6967b with status IDLE and system state: HEALTHY and active partitions [0]
2022-09-08T12:08:00.955+00:00 INFO CBAS.topology.PartitionsTopology [Executor-9:ClusterController] adding active partition 0 to node 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:08:00.955+00:00 INFO CBAS.topology.PartitionsTopology [Executor-9:ClusterController] adding active partition -1 to node 1678dfae96c38e07dff43c49b9f6967b
2022-09-08T12:08:00.976+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1678dfae96c38e07dff43c49b9f6967b] Received message: org.apache.asterix.app.replication.message.RegistrationTasksResponseMessage@5103b6f1
2022-09-08T12:08:00.978+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: UpdateNodeStatusTask{status=BOOTING, activePartitions=[0, -1]}
2022-09-08T12:08:00.978+00:00 INFO CBAS.task.UpdateNodeStatusTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] updating node active partitions to [0, -1]
2022-09-08T12:08:00.978+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: UpdateNodeStatusTask{status=BOOTING, activePartitions=[0, -1]}
2022-09-08T12:08:00.978+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: LocalStorageCleanupTask{metadataPartitionId=-1}
2022-09-08T12:08:05.836+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: LocalStorageCleanupTask{metadataPartitionId=-1}
2022-09-08T12:08:05.837+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "StartReplicationServiceTask" }
2022-09-08T12:08:05.837+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "StartReplicationServiceTask" }
2022-09-08T12:08:05.838+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "MetadataBootstrapTask" }
2022-09-08T12:08:05.839+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Getting latest checkpoint
2022-09-08T12:08:05.841+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:08:05.842+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:08:05.842+00:00 INFO CBAS.management.ReplicationChannel [1678dfae96c38e07dff43c49b9f6967b Replication Channel Thread] opened Replication Channel @ IP Address: 0.0.0.0:9120
2022-09-08T12:08:05.847+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Bootstrapping metadata
2022-09-08T12:08:05.863+00:00 INFO CBAS.metadata.CachingTxnIdFactory [Executor-11:1678dfae96c38e07dff43c49b9f6967b] block exhausted; obtaining new block from supplier
2022-09-08T12:08:05.867+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: TxnIdBlockRequest
2022-09-08T12:08:05.869+00:00 INFO CBAS.messaging.NCMessageBroker [Executor-12:1678dfae96c38e07dff43c49b9f6967b] Received message: TxnIdBlockResponse
2022-09-08T12:08:07.401+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Finished enlistment of metadata B-trees in old universe
2022-09-08T12:08:07.453+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting DDL recovery ...
2022-09-08T12:08:07.487+00:00 INFO CBAS.bootstrap.MetadataBootstrap [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed DDL recovery.
2022-09-08T12:08:07.625+00:00 INFO CBAS.nc.NCAppRuntimeContext [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Metadata node bound
2022-09-08T12:08:07.625+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "MetadataBootstrapTask" }
2022-09-08T12:08:07.625+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "CheckpointTask" }
2022-09-08T12:08:07.626+00:00 INFO CBAS.recovery.CheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting sharp checkpoint...
2022-09-08T12:08:07.867+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0]
2022-09-08T12:08:07.874+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1 which doesn't exist yet
2022-09-08T12:08:07.890+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed persisting checkpoint file to /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1 which now exists
2022-09-08T12:08:07.892+00:00 INFO CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Listing of files in the checkpoint dir returned [/opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0, /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1]
2022-09-08T12:08:07.892+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_0
2022-09-08T12:08:07.895+00:00 WARN CBAS.recovery.AbstractCheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Reading checkpoint file: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/checkpoint_1
2022-09-08T12:08:07.897+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Terminating LogFlusher thread ...
2022-09-08T12:08:07.899+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] LogFlusher thread is terminated.
2022-09-08T12:08:07.899+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] closing current log file with id(1)
2022-09-08T12:08:07.909+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Created log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_2
2022-09-08T12:08:07.916+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Deleted log file /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/txn-log/transaction_log_1
2022-09-08T12:08:07.920+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] initializing log anchor with log file Id: 2 at offset: 0
2022-09-08T12:08:07.920+00:00 INFO CBAS.logging.LogManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] LogManager starts logging in LSN: 536870912
2022-09-08T12:08:07.922+00:00 INFO CBAS.recovery.CheckpointManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed sharp checkpoint.
2022-09-08T12:08:07.922+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "CheckpointTask" }
2022-09-08T12:08:07.922+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "StartLifecycleComponentsTask" }
2022-09-08T12:08:07.922+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting lifecycle components
2022-09-08T12:08:07.922+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Coredump directory for NC is: /opt/couchbase/var/lib/couchbase/data/@analytics/v_iodevice_0/coredump
2022-09-08T12:08:07.923+00:00 INFO CBAS.lifecycle.LifeCycleComponentManager [Executor-11:1678dfae96c38e07dff43c49b9f6967b] LifecycleComponentManager configured org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@5e519ad3
2022-09-08T12:08:07.923+00:00 INFO CBAS.task.StartLifecycleComponentsTask [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Configured:org.apache.hyracks.api.lifecycle.LifeCycleComponentManager@5e519ad3
2022-09-08T12:08:07.924+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "StartLifecycleComponentsTask" }
2022-09-08T12:08:07.925+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2022-09-08T12:08:07.943+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "ExportMetadataNodeTask", "export-stub" : true }
2022-09-08T12:08:07.943+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "BindMetadataNodeTask" }
2022-09-08T12:08:07.951+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "BindMetadataNodeTask" }
2022-09-08T12:08:07.951+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: UpdateNodeStatusTask{status=ACTIVE, activePartitions=[0, -1]}
2022-09-08T12:08:07.951+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: UpdateNodeStatusTask{status=ACTIVE, activePartitions=[0, -1]}
2022-09-08T12:08:07.952+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: { "class" : "CheckRebalanceRequiredTask" }
2022-09-08T12:08:08.374+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: { "class" : "CheckRebalanceRequiredTask" }
2022-09-08T12:08:08.374+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Starting startup task: com.couchbase.analytics.bootstrap.RegisterProxyablePrefixesTask@3479dbce
2022-09-08T12:08:08.379+00:00 INFO CBAS.message.RegistrationTasksResponseMessage [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Completed startup task: com.couchbase.analytics.bootstrap.RegisterProxyablePrefixesTask@3479dbce
2022-09-08T12:08:08.821+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: NCLifecycleTaskReportMessage{nodeId='1678dfae96c38e07dff43c49b9f6967b', success=true, exception=null, localCounters=NcLocalCounters{maxResourceId=100, maxTxnId=512, maxJobId=0}, activePartitions=[0, -1]}
2022-09-08T12:08:08.824+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] Metadata node 1678dfae96c38e07dff43c49b9f6967b is now active
2022-09-08T12:08:08.826+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] updating cluster state from UNUSABLE to PENDING
2022-09-08T12:08:08.832+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] Cluster State is now PENDING
2022-09-08T12:08:08.832+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] updating cluster state from PENDING to RECOVERING
2022-09-08T12:08:08.833+00:00 INFO CBAS.utils.ClusterStateManager [Executor-9:ClusterController] Cluster State is now RECOVERING
2022-09-08T12:08:08.835+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-10:ClusterController] Starting Global Recovery
2022-09-08T12:08:08.862+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1678dfae96c38e07dff43c49b9f6967b] Received message: StorageCleanupRequestMessage
2022-09-08T12:08:09.260+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: { "response" : "success"}
2022-09-08T12:08:09.265+00:00 INFO CBAS.messaging.NCMessageBroker [Executor-11:1678dfae96c38e07dff43c49b9f6967b] Received message: com.couchbase.analytics.messaging.TopologyMessage@e8d88ae
2022-09-08T12:08:09.265+00:00 INFO CBAS.rebalance.TopologyMonitor [Executor-13:1678dfae96c38e07dff43c49b9f6967b] got topology from cc: {"version":1,"revision":0,"balanced":true,"ccNodeId":"1678dfae96c38e07dff43c49b9f6967b","metadataPartition":-1,"numReplicas":0,"partitions":[{"id":"0","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]},{"id":"-1","origin":"1678dfae96c38e07dff43c49b9f6967b","master":"1678dfae96c38e07dff43c49b9f6967b","replicas":[]}]}
2022-09-08T12:08:09.270+00:00 INFO CBAS.rebalance.TopologyMonitor [Topology Monitor] keeping partitions [-1, 0]
2022-09-08T12:08:10.266+00:00 INFO CBAS.rebalance.TopologyCoordinator [Executor-10:ClusterController] partitions topology rev 0 is now in-sync
2022-09-08T12:08:10.269+00:00 INFO CBAS.bootstrap.GlobalRecoveryManager [Executor-10:ClusterController] Global Recovery Completed. Refreshing cluster state...
2022-09-08T12:08:10.269+00:00 INFO CBAS.utils.ClusterStateManager [Executor-10:ClusterController] updating cluster state from RECOVERING to ACTIVE
2022-09-08T12:08:10.270+00:00 INFO CBAS.active.ActiveNotificationHandler [Executor-9:ClusterController] Starting active recovery
2022-09-08T12:08:10.270+00:00 INFO CBAS.utils.ClusterStateManager [Executor-10:ClusterController] Cluster State is now ACTIVE
2022-09-08T12:12:09.470+00:00 INFO CBAS.server.QueryServiceServlet [HighPriorityHttpExecutor(port:8095)-0] handleRequest: <ud>{"host":"localhost:8091","path":"/query/service","statement":"with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> \\\"Metadata\\\") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;","pretty":false,"mode":"immediate","clientContextID":null,"clientType":"ASTERIX","dataverse":null,"format":"CLEAN_JSON","timeout":9223372036854775807,"maxResultReads":1,"planFormat":"JSON","expressionTree":false,"rewrittenExpressionTree":false,"logicalPlan":false,"optimizedLogicalPlan":false,"job":false,"profile":"counts","signature":true,"multiStatement":true,"parseOnly":false,"readOnly":false,"maxWarnings":0,"sqlCompat":false,"scanConsistency":null,"scanWait":null}</ud>
2022-09-08T12:12:09.510+00:00 INFO CBAS.messaging.CCMessageBroker [Executor-9:ClusterController] Received message: ExecuteStatementRequestMessage(id=1, from=1678dfae96c38e07dff43c49b9f6967b): <ud>with user_datasets as (select value d from Metadata.`Dataset` d where d.DataverseName <> "Metadata") select (select value count(*) from user_datasets d group by d.BucketName) as datasets_per_bucket, (select value count(*) from user_datasets d group by d.DataverseName) as datasets_per_dataverse, (select value count(distinct d.UUID) from Metadata.`Bucket` d where d.IsRunning) as connected_buckets;</ud>
2022-09-08T12:12:11.229+00:00 INFO CBAS.work.JobCleanupWork [Worker:ClusterController] Cleanup for job: JID:0.1
2022-09-08T12:12:11.250+00:00 INFO CBAS.messaging.NCMessageBroker [Worker:1678dfae96c38e07dff43c49b9f6967b] Received message: ExecuteStatementResponseMessage(id=1): 51 characters
2022-09-08T13:47:09.529+00:00 INFO CBAS.cbas revrpc: Got error (EOF) and will retry in 1s
